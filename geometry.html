index.html
<!DOCTYPE html>
<html lang="no">
<head>
<meta charset="UTF-8">
<title>Geometry Dash – Browser Edition</title>
<style>
body {
  margin: 0;
  background: linear-gradient(to bottom, #87CEFA, #FFFFFF); /* Lys blå himmel */
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  font-family: Arial, sans-serif;
}
canvas {
  background: linear-gradient(to bottom, #A0E7E5, #B4F8C8); /* Lys grønn bakgrunn */
  border: 3px solid #FF69B4; /* rosa kant */
  box-shadow: 0 0 20px #FF69B4;
}
</style>
</head>
<body>

<canvas id="game" width="900" height="350"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let state = "menu"; // menu, levels, play
let currentLevel = 0;
const speed = 4; // hvor fort spillet går fremover

const levels = [
  { name: "Level 1 – Stereo Start", spikes: [400, 550, 700] },
  { name: "Level 2 – Air Trouble", spikes: [350, 500, 650, 800] },
  { name: "Level 3 – Wave Madness", spikes: [300, 450, 600, 750] }
];

let player = {
  x: 120,
  y: 260,
  size: 30,
  dy: 0,
  gravity: 0.9,
  angle: 0,
  alive: true
};

document.addEventListener("keydown", () => {
  if (state === "menu") state = "levels";
  else if (state === "levels") {
    currentLevel = 0;
    startLevel();
  } else if (state === "play") {
    if (player.y >= 260) {
      player.dy = -15; // hopp
    }
  }
});

function startLevel() {
  state = "play";
  player.y = 260;
  player.dy = 0;
  player.angle = 0;
  player.alive = true;

  // Kopier spikes for dette nivået
  levels[currentLevel].spikes = [...levels[currentLevel].spikes];
}

function drawMenu() {
  ctx.fillStyle = "#FF1493"; // Neon rosa
  ctx.font = "48px Arial";
  ctx.fillText("GEOMETRY DASH", 180, 150);
  ctx.font = "20px Arial";
  ctx.fillText("Press any key to start", 300, 200);
}

function drawLevels() {
  ctx.fillStyle = "#00008B"; // mørk blå tekst
  ctx.font = "32px Arial";
  ctx.fillText("Select Level", 330, 80);
  levels.forEach((l, i) => {
    ctx.fillText(`${i+1}. ${l.name}`, 250, 140 + i * 50);
  });
  ctx.font = "16px Arial";
  ctx.fillText("Press any key to start", 330, 300);
}

function drawPlayer() {
  ctx.save();
  ctx.translate(player.x + 15, player.y + 15);
  ctx.rotate(player.angle);
  ctx.fillStyle = "#FFD700"; // Gullfarge
  ctx.fillRect(-15, -15, 30, 30);
  ctx.restore();
}

function drawSpikes(level) {
  ctx.fillStyle = "#FF4500"; // Orange-red spikes
  level.spikes.forEach(x => {
    ctx.beginPath();
    ctx.moveTo(x, 300);
    ctx.lineTo(x + 20, 260);
    ctx.lineTo(x + 40, 300);
    ctx.fill();

    // Kollisjon
    if (
      player.x + player.size > x &&
      player.x < x + 40 &&
      player.y + player.size > 260
    ) {
      player.alive = false;
    }
  });
}

function update() {
  ctx.clearRect(0,0,canvas.width,canvas.height);

  if (state === "menu") drawMenu();
  else if (state === "levels") drawLevels();
  else if (state === "play") {
    if (!player.alive) {
      ctx.fillStyle = "#FF0000";
      ctx.font = "40px Arial";
      ctx.fillText("YOU DIED", 350, 180);
      ctx.font = "20px Arial";
      ctx.fillText("Refresh to retry", 360, 220);
      return;
    }

    // Hopp og tyngdekraft
    player.dy += player.gravity;
    player.y += player.dy;

    if (player.y >= 260) {
      player.y = 260;
      player.dy = 0;
    } else {
      player.angle += 0.15; // roterer mens i luften
    }

    // Flytt spikes mot venstre for å simulere fremdrift
    levels[currentLevel].spikes = levels[currentLevel].spikes.map(x => x - speed);

    drawPlayer();
    drawSpikes(levels[currentLevel]);

    // Tegn bakken
    ctx.fillStyle = "#32CD32"; // lys grønn
    ctx.fillRect(0, 300, canvas.width, 4);
  }

  requestAnimationFrame(update);
}

update();
</script>

</body>
</html>
